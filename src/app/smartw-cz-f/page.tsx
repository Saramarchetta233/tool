'use client';

import React, { useState, useEffect, useRef } from 'react';
import {
  Star,
  Check,
  Clock,
  Shield,
  Truck,
  Heart,
  Users,
  AlertCircle,
  Package,
  MapPin,
  ChevronDown,
  ChevronUp,
  ChevronLeft,    // â† AGGIUNGI
  ChevronRight,  // â† AGGIUNGI
  Play
} from 'lucide-react';

// Declare global tracking functions
declare global {
  interface Window {
    fbq: any;
    gtag: any;
    dataLayer: any[];
  }
}

// Tracking utilities
const trackingUtils = {
  // Initialize Facebook Pixel
  initFacebookPixel: () => {
    if (typeof window !== 'undefined') {
      (function (f: any, b: any, e: any, v: any, n?: any, t?: any, s?: any) {
        if (f.fbq) return;
        n = f.fbq = function () {
          n.callMethod ? n.callMethod.apply(n, arguments) : n.queue.push(arguments);
        };
        if (!f._fbq) f._fbq = n;
        n.push = n;
        n.loaded = !0;
        n.version = '2.0';
        n.queue = [];
        t = b.createElement(e);
        t.async = !0;
        t.src = v;
        s = b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t, s);
      })(window, document, 'script', 'https://connect.facebook.net/en_US/fbevents.js');

      window.fbq('init', '763716602087140', {}, {
        test_event_code: 'TEST20028'
      });
      window.fbq('track', 'PageView');
    }
  },

  // Initialize Google Ads
  initGoogleAds: () => {
    if (typeof window !== 'undefined') {
      window.dataLayer = window.dataLayer || [];
      window.gtag = function () {
        window.dataLayer.push(arguments);
      };
      window.gtag('js', new Date());
      window.gtag('config', 'AW-17122800574');

      // Load gtag script
      const script = document.createElement('script');
      script.async = true;
      script.src = 'https://www.googletagmanager.com/gtag/js?id=AW-17122800574';
      document.head.appendChild(script);
    }
  },

  // Initialize Google Analytics
  initGoogleAnalytics: () => {
    if (typeof window !== 'undefined') {
      window.dataLayer = window.dataLayer || [];
      window.gtag = window.gtag || function () {
        window.dataLayer.push(arguments);
      };
      window.gtag('js', new Date());
      window.gtag('config', 'GA_MEASUREMENT_ID'); // Replace with your GA4 measurement ID

      // Load gtag script for Analytics
      const script = document.createElement('script');
      script.async = true;
      script.src = 'https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID'; // Replace with your GA4 measurement ID
      document.head.appendChild(script);
    }
  },

  // Get traffic source for N8N
  getTrafficSource: (): string => {
    const urlParams = new URLSearchParams(window.location.search);
    const utmSource = urlParams.get('utm_source');
    const fbclid = urlParams.get('fbclid');
    const gclid = urlParams.get('gclid');

    if (gclid || utmSource === 'google') return 'google_ads';
    if (fbclid || utmSource === 'facebook') return 'facebook';
    return utmSource || 'direct';
  },

  // Track Facebook events - CLIENT SIDE + CAPI via N8N
  trackFacebookEvent: async (eventName: string, eventData: any = {}, userFormData: any = null): Promise<void> => {
    const clientEventId = `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;

    // 1. CLIENT-SIDE TRACKING (Pixel)
    if (typeof window !== 'undefined' && window.fbq) {
      try {
        window.fbq('track', eventName, eventData, {
          eventID: clientEventId
        });
        console.log(`âœ… Facebook ${eventName} tracked (client-side)`);
      } catch (error) {
        console.error(`âŒ Facebook ${eventName} client tracking error:`, error);
      }
    }

    // Track in Google Analytics
    if (typeof window !== 'undefined' && window.gtag) {
      try {
        window.gtag('event', eventName.toLowerCase(), {
          event_category: 'Facebook',
          event_label: eventName,
          value: eventData.value || 0
        });
      } catch (error) {
        console.error(`âŒ Google Analytics ${eventName} tracking error:`, error);
      }
    }

    // 2. SERVER-SIDE TRACKING (CAPI) via N8N - Always track major events
    const majorEvents = ['InitiateCheckout', 'Purchase', 'Lead', 'CompleteRegistration'];
    if (majorEvents.includes(eventName) || userFormData) {
      try {
        console.log(`ğŸ“¡ Sending ${eventName} to N8N webhook...`);

        // Hash dei dati sensibili se abbiamo form data
        let hashedPhone = null;
        let hashedFirstName = null;
        let hashedLastName = null;

        if (userFormData) {
          hashedPhone = userFormData.telefon ? await trackingUtils.hashData(userFormData.telefon.replace(/\D/g, '')) : null;
          hashedFirstName = userFormData.jmeno ? await trackingUtils.hashData(userFormData.jmeno.split(' ')[0]) : null;
          hashedLastName = userFormData.jmeno && userFormData.jmeno.split(' ').length > 1 ? await trackingUtils.hashData(userFormData.jmeno.split(' ').slice(1).join(' ')) : null;
        }

        // Prepara i dati per N8N
        // Calcola timestamp corretto (non piÃ¹ di 7 giorni fa, non nel futuro)
        const now = Math.floor(Date.now() / 1000);
        const maxPastTime = now - (7 * 24 * 60 * 60); // 7 giorni fa
        const eventTimestamp = Math.max(maxPastTime, now - 10); // Massimo 10 secondi fa

        const capiData = {
          event_name: 'Purchase', // o eventName per la landing
          event_id: clientEventId,
          timestamp: eventTimestamp, // <-- TIMESTAMP CORRETTO
          event_source_url: window.location.href,

          // AGGIUNGI ANCHE QUESTO
          action_source: 'website',
          event_time: eventTimestamp,

          // Token e Pixel ID dinamici
          token: 'EAAPYtpMdWREBPJH0W7LzwU2MuZA61clyQOfYg5C6E0vo9E5QYgJWl2n5XtO8Ur93YTZANcWYz3qsAbDOadffn10KbQZCOwkRS6DpM8bRjwX25NBn5d1lvVNQhFOCGY9eZARrjyCbJs1OtFk2BOc4ZBbaUjeD7dvkejyxZAZAEQdeb8AQzUKdAQitdhU0jVGywZDZD',
          pixel_id: '763716602087140', // Pixel ID dinamico

          // Dati hashati del form (se disponibili)
          telefono_hash: hashedPhone,
          nome_hash: hashedFirstName,
          cognome_hash: hashedLastName,
          indirizzo: userFormData?.adresa || null,

          // Traffic source for analytics
          traffic_source: trackingUtils.getTrafficSource(),

          // Dati tecnici
          user_agent: navigator.userAgent,
          fbp: trackingUtils.getFbBrowserId(),
          fbc: trackingUtils.getFbClickId(),

          // Parametri UTM
          utm_source: new URLSearchParams(window.location.search).get('utm_source'),
          utm_medium: new URLSearchParams(window.location.search).get('utm_medium'),
          utm_campaign: new URLSearchParams(window.location.search).get('utm_campaign'),
          utm_content: new URLSearchParams(window.location.search).get('utm_content'),
          utm_term: new URLSearchParams(window.location.search).get('utm_term'),

          // Altri dati utili
          page_title: document.title,
          referrer: document.referrer,
          language: navigator.language,
          screen_resolution: `${screen.width}x${screen.height}`,

          // Dati custom per questo prodotto - DINAMICI
          content_name: 'NeniÄitelnÃ½ Smartwatch',
          content_category: 'Electronics',
          content_ids: 'smartwatch-indestructible',
          content_type: 'product',
          value: eventData.value || 1249.00,
          currency: 'CZK', // Currency dinamica
          quantity: eventData.num_items || 1
        };

        console.log(`ğŸ“¤ Sending to webhook:`, capiData);

        // Invia a N8N webhook
        const response = await fetch('https://primary-production-625c.up.railway.app/webhook/CAPI-Meta', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(capiData)
        });

        const responseText = await response.text();
        console.log(`ğŸ“¥ Webhook response:`, response.status, responseText);

        if (response.ok) {
          console.log(`âœ… Facebook ${eventName} CAPI tracked via N8N`);
        } else {
          console.error(`âŒ Facebook ${eventName} CAPI error:`, response.status, responseText);
        }
      } catch (error) {
        console.error(`âŒ Facebook ${eventName} CAPI tracking error:`, error);
      }
    } else {
      console.log(`â„¹ï¸ ${eventName} not configured for CAPI tracking`);
    }
  },

  // Track Google Ads events
  trackGoogleEvent: (eventName: string, eventData: any = {}): void => {
    if (typeof window !== 'undefined' && window.gtag) {
      try {
        if (eventName !== 'Purchase') {
          window.gtag('event', eventName, eventData);
          console.log(`âœ… Google Ads ${eventName} tracked`);
        } else {
          console.log(`â„¹ï¸ Google Ads Purchase skipped - will be tracked in Thank You page`);
        }
      } catch (error) {
        console.error(`âŒ Google Ads ${eventName} tracking error:`, error);
      }
    }
  },

  // Utility functions
  getClientIP: async (): Promise<string> => {
    try {
      const response = await fetch('https://api.ipify.org?format=json');
      const data = await response.json();
      return data.ip;
    } catch {
      return '';
    }
  },

  getFbClickId: (): string => {
    const urlParams = new URLSearchParams(window.location.search);
    const fbclid = urlParams.get('fbclid');

    if (fbclid) {
      // Formato corretto per fbc secondo Meta: fb.1.timestamp.fbclid
      // Il timestamp deve essere in SECONDI, non millisecondi
      const timestamp = Math.floor(Date.now() / 1000);
      return `fb.1.${timestamp}.${fbclid}`;
    }

    // Se non c'Ã¨ fbclid, prova a recuperare da cookie esistenti
    const cookies = document.cookie.split(';');
    for (let cookie of cookies) {
      const [name, value] = cookie.trim().split('=');
      if (name === '_fbc') {
        return decodeURIComponent(value);
      }
    }

    return '';
  },

  // AGGIUNGI QUESTA NUOVA FUNZIONE SUBITO DOPO getFbClickId
  setFbClickId: (): void => {
    const urlParams = new URLSearchParams(window.location.search);
    const fbclid = urlParams.get('fbclid');

    if (fbclid) {
      const timestamp = Math.floor(Date.now() / 1000);
      const fbcValue = `fb.1.${timestamp}.${fbclid}`;

      // Salva nei cookie per 90 giorni (standard Facebook)
      const expirationDate = new Date();
      expirationDate.setDate(expirationDate.getDate() + 90);

      document.cookie = `_fbc=${encodeURIComponent(fbcValue)}; expires=${expirationDate.toUTCString()}; path=/; domain=${window.location.hostname}`;

      console.log('âœ… Facebook Click ID salvato:', fbcValue);
    }
  },

  getFbBrowserId: (): string => {
    const cookies = document.cookie.split(';');
    for (let cookie of cookies) {
      const [name, value] = cookie.trim().split('=');
      if (name === '_fbp') return value;
    }
    return '';
  },

  // Proper SHA-256 hashing for PII data (Facebook requirement)
  hashData: async (data: string): Promise<string> => {
    if (!data || typeof data !== 'string') return '';

    try {
      // Normalize data (lowercase, trim spaces)
      const normalizedData = data.toLowerCase().trim();

      // Use Web Crypto API for SHA-256 hashing
      const encoder = new TextEncoder();
      const dataBuffer = encoder.encode(normalizedData);
      const hashBuffer = await crypto.subtle.digest('SHA-256', dataBuffer);
      const hashArray = Array.from(new Uint8Array(hashBuffer));
      const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');

      return hashHex;
    } catch (error) {
      console.error('Error hashing data:', error);
      return '';
    }
  }
};

// Countdown Timer Component
const CountdownTimer = () => {
  const [timeLeft, setTimeLeft] = useState({
    hours: 0,
    minutes: 0,
    seconds: 0
  });

  useEffect(() => {
    const calculateTimeLeft = () => {
      const now = new Date();
      const midnight = new Date(now);
      midnight.setHours(24, 0, 0, 0);
      const difference = midnight.getTime() - now.getTime();

      if (difference > 0) {
        setTimeLeft({
          hours: Math.floor(difference / (1000 * 60 * 60)),
          minutes: Math.floor((difference / 1000 / 60) % 60),
          seconds: Math.floor((difference / 1000) % 60)
        });
      } else {
        setTimeLeft({ hours: 0, minutes: 0, seconds: 0 });
      }
    };

    calculateTimeLeft();
    const timer = setInterval(calculateTimeLeft, 1000);

    return () => clearInterval(timer);
  }, []);

  return (
    <span className="text-red-600 font-bold text-lg">
      {String(timeLeft.hours).padStart(2, '0')}:
      {String(timeLeft.minutes).padStart(2, '0')}:
      {String(timeLeft.seconds).padStart(2, '0')}
    </span>
  );
};

// Star Rating Component
const StarRating = ({ rating, size = 'w-4 h-4' }: { rating: number; size?: string }) => {
  return (
    <div className="flex">
      {[...Array(5)].map((_, i) => (
        <Star
          key={i}
          className={`${size} ${i < rating ? 'text-yellow-400 fill-current' : 'text-gray-300'}`}
        />
      ))}
    </div>
  );
};

// Social Proof Notification
const SocialProofNotification = () => {
  const [visible, setVisible] = useState(false);
  const [currentNotification, setCurrentNotification] = useState(0);
  const [hasStarted, setHasStarted] = useState(false);

  const notifications = [
    { name: "Jan z Prahy", action: "prÃ¡vÄ› koupil", time: "pÅ™ed 2 minutami" },
    { name: "Petr z Brna", action: "pÅ™idal do koÅ¡Ã­ku", time: "pÅ™ed 4 minutami" },
    { name: "Pavel z Ostravy", action: "prÃ¡vÄ› koupil", time: "pÅ™ed 6 minutami" },
    { name: "Adam z PlznÄ›", action: "prÃ¡vÄ› prohlÃ­Å¾Ã­", time: "pÅ™ed 1 minutou" },
  ];

  useEffect(() => {
    // Aspetta 10 secondi prima di iniziare a mostrare le notifiche
    const initialDelay = setTimeout(() => {
      setHasStarted(true);
    }, 10000);

    return () => clearTimeout(initialDelay);
  }, []);

  useEffect(() => {
    if (!hasStarted) return;

    const showNotification = () => {
      setVisible(true);
      setTimeout(() => setVisible(false), 4000);
      setTimeout(() => {
        setCurrentNotification((prev) => (prev + 1) % notifications.length);
      }, 5000);
    };

    const interval = setInterval(showNotification, 8000);
    showNotification();

    return () => clearInterval(interval);
  }, [hasStarted]);

  if (!visible) return null;

  return (
    <div className="fixed bottom-20 md:bottom-4 left-4 z-40 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-sm animate-slide-up">
      <div className="flex items-center space-x-3">
        <div className="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
        <div className="flex-1">
          <p className="text-sm font-medium text-gray-900">
            {notifications[currentNotification].name}
          </p>
          <p className="text-xs text-gray-600">
            {notifications[currentNotification].action} â€¢ {notifications[currentNotification].time}
          </p>
        </div>
      </div>
    </div>
  );
};

// FAQ Component
const FAQ = ({ question, answer }: { question: string; answer: string }) => {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <div className="border border-gray-200 rounded-lg">
      <button
        className="w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50"
        onClick={() => setIsOpen(!isOpen)}
      >
        <span className="font-medium text-gray-900">{question}</span>
        {isOpen ? (
          <ChevronUp className="w-5 h-5 text-gray-500 flex-shrink-0" />
        ) : (
          <ChevronDown className="w-5 h-5 text-gray-500 flex-shrink-0" />
        )}
      </button>
      {isOpen && (
        <div className="px-6 pb-4">
          <p className="text-gray-600">{answer}</p>
        </div>
      )}
    </div>
  );
};

// Stock Indicator
const StockIndicator = () => {
  const [stock, setStock] = useState(8);

  useEffect(() => {
    const interval = setInterval(() => {
      setStock(prev => {
        const change = Math.random() > 0.7 ? -1 : 0;
        return Math.max(4, prev + change);
      });
    }, 30000);

    return () => clearInterval(interval);
  }, []);

  return (
    <div className="bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-900 p-3 rounded-lg text-center font-bold">
      <div className="flex items-center justify-center space-x-2">
        <AlertCircle className="w-5 h-5" />
        <span>âš¡ Pouze {stock} kusÅ¯ zÅ¯stÃ¡vÃ¡ na skladÄ›!</span>
      </div>
    </div>
  );
};

// Delivery Tracking Component
const DeliveryTracking = () => {
  const [deliveryDates, setDeliveryDates] = useState({
    orderDate: '',
    shipDate: '',
    deliveryStart: '',
    deliveryEnd: '',
    deliveryRange: ''
  });

  useEffect(() => {
    const formatData = (data: Date): string => {
      const giorni = ['nedÄ›le', 'pondÄ›lÃ­', 'ÃºterÃ½', 'stÅ™eda', 'Ätvrtek', 'pÃ¡tek', 'sobota'];
      const mesi = ['led', 'Ãºno', 'bÅ™e', 'dub', 'kvÄ›', 'Äer', 'Ävc', 'srp', 'zÃ¡Å™', 'Å™Ã­j', 'lis', 'pro'];
      const giornoSettimana = giorni[data.getDay()];
      const giorno = String(data.getDate()).padStart(2, '0');
      const mese = mesi[data.getMonth()];
      return `${giornoSettimana}, ${giorno} ${mese}`;
    };

    const aggiungiGiorniLavorativi = (data: Date, giorni: number): Date => {
      let count = 0;
      const nuovaData = new Date(data);
      while (count < giorni) {
        nuovaData.setDate(nuovaData.getDate() + 1);
        const giorno = nuovaData.getDay();
        if (giorno !== 0 && giorno !== 6) count++; // 0 = nedÄ›le, 6 = sobota
      }
      return nuovaData;
    };

    const oggi = new Date();
    const dataOrdine = oggi;
    const dataSpedizione = aggiungiGiorniLavorativi(dataOrdine, 1);
    const dataConsegnaInizio = aggiungiGiorniLavorativi(dataSpedizione, 2);
    const dataConsegnaFine = aggiungiGiorniLavorativi(dataSpedizione, 3);

    setDeliveryDates({
      orderDate: formatData(dataOrdine),
      shipDate: formatData(dataSpedizione),
      deliveryStart: formatData(dataConsegnaInizio),
      deliveryEnd: formatData(dataConsegnaFine),
      deliveryRange: `${formatData(dataConsegnaInizio)} aÅ¾ ${formatData(dataConsegnaFine)}`
    });
  }, []);

  return (
    <div className="bg-white border border-gray-200 rounded-lg p-4">
      <p className="text-center text-gray-700 mb-4">
        Objednejte <strong>NYNÃ</strong> a obdrÅ¾Ã­te balÃ­Äek mezi <strong>{deliveryDates.deliveryRange}</strong>
      </p>
      <div className="flex justify-between items-center text-sm">
        <div className="text-center flex-1">
          <div className="text-2xl mb-1 text-center">ğŸ“¦</div>
          <div className="font-medium">ObjednÃ¡no</div>
          <div className="text-gray-500">{deliveryDates.orderDate}</div>
        </div>
        <div className="text-center flex-1">
          <div className="text-2xl mb-1 text-center">ğŸšš</div>
          <div className="font-medium">OdeslÃ¡no</div>
          <div className="text-gray-500">{deliveryDates.shipDate}</div>
        </div>
        <div className="text-center flex-1">
          <div className="text-2xl mb-1 text-center">ğŸ“</div>
          <div className="font-medium">DoruÄeno</div>
          <div className="text-gray-500">{deliveryDates.deliveryStart} - {deliveryDates.deliveryEnd}</div>
        </div>
      </div>
    </div>
  );
};

// Product Carousel Component
const ProductCarousel = () => {
  const [currentImage, setCurrentImage] = useState(0);
  const [touchStart, setTouchStart] = useState<number | null>(null);
  const [touchEnd, setTouchEnd] = useState<number | null>(null);

  const images = [
    '/images/smartw-cz/smartwatch-1.png',
    '/images/smartw-cz/smartwatch-2.jpg',
    '/images/smartw-cz/smartwatch-3.jpg',
    '/images/smartw-cz/smartwatch-4.png',
    '/images/smartw-cz/smartwatch-5.png'
  ];

  const handleTouchStart = (e: React.TouchEvent) => {
    setTouchEnd(null);
    setTouchStart(e.targetTouches[0].clientX);
  };

  const handleTouchMove = (e: React.TouchEvent) => {
    setTouchEnd(e.targetTouches[0].clientX);
  };

  const handleTouchEnd = () => {
    if (!touchStart || !touchEnd) return;

    const distance = touchStart - touchEnd;
    const isLeftSwipe = distance > 50;
    const isRightSwipe = distance < -50;

    if (isLeftSwipe) {
      nextImage();
    }
    if (isRightSwipe) {
      prevImage();
    }
  };

  const nextImage = () => {
    setCurrentImage((prev: any) => (prev + 1) % images.length);
  };

  const prevImage = () => {
    setCurrentImage((prev: any) => (prev - 1 + images.length) % images.length);
  };

  const goToImage = (index: any) => {
    setCurrentImage(index);
  };

  return (
    <div className="relative">
      {/* Container principale */}
      <div
        className="relative w-full h-auto"
        onTouchStart={handleTouchStart}
        onTouchMove={handleTouchMove}
        onTouchEnd={handleTouchEnd}
      >
        {/* Badge sconto */}
        <div className="absolute top-4 right-4 bg-red-600 text-white px-3 py-1 rounded-full text-sm font-bold z-10">
          -60% LEVNÄšJI
        </div>

        {/* Immagini */}
        <div className="relative min-h-[300px] max-h-[600px]">
          {images.map((image, index) => (
            <img
              key={index}
              src={image}
              alt={`NeniÄitelnÃ½ Smartwatch - Pohled ${index + 1}`}
              className={`w-full h-auto max-h-[600px] object-contain mx-auto transition-opacity duration-500 ${index === currentImage ? 'opacity-100' : 'opacity-0'
                } ${index !== currentImage ? 'absolute top-0 left-0' : ''}`}
            />
          ))}
        </div>

        {/* Frecce desktop */}
        <button
          onClick={prevImage}
          className="hidden md:flex absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-all"
        >
          <ChevronLeft className="w-6 h-6" />
        </button>

        <button
          onClick={nextImage}
          className="hidden md:flex absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-all"
        >
          <ChevronRight className="w-6 h-6" />
        </button>
      </div>

      {/* Dots indicatori */}
      <div className="flex justify-center space-x-2 mt-4">
        {images.map((_, index) => (
          <button
            key={index}
            onClick={() => goToImage(index)}
            className={`w-3 h-3 rounded-full transition-all duration-300 ${index === currentImage
              ? 'bg-green-600 w-8'
              : 'bg-gray-300 hover:bg-gray-400'
              }`}
          />
        ))}
      </div>

      {/* Thumbnails desktop */}
      <div className="hidden md:flex justify-center space-x-2 mt-4">
        {images.map((image, index) => (
          <button
            key={index}
            onClick={() => goToImage(index)}
            className={`w-16 h-16 rounded-lg overflow-hidden border-2 transition-all ${index === currentImage
              ? 'border-green-600 opacity-100'
              : 'border-gray-200 opacity-70 hover:opacity-100'
              }`}
          >
            <img
              src={image}
              alt={`NÃ¡hled ${index + 1}`}
              className="w-full h-full object-cover"
            />
          </button>
        ))}
      </div>
    </div>
  );
};


const AutoplayVideo = () => {
  const videoRef = useRef<HTMLVideoElement>(null);

  useEffect(() => {
    const video = videoRef.current;
    if (video) {
      // Forza l'autoplay su mobile
      video.play().catch((error: any) => {
        console.log('Autoplay selhalo:', error);
      });
    }
  }, []);

  return (
    <div className="relative rounded-lg shadow-lg overflow-hidden">
      <video
        ref={videoRef}
        className="w-full h-auto"
        autoPlay
        muted
        loop
        playsInline // Importante per iOS
        preload="auto"
        style={{
          maxHeight: '500px',
          objectFit: 'cover'
        }}
      >
        {/* Sostituisci con il tuo video */}
        <source src="/video/smartwatch-demo.mp4" type="video/mp4" />
        <source src="/video/smartwatch-demo.webm" type="video/webm" />

        {/* Fallback per browser che non supportano video */}
        <img
          src="/images/smartw-cz/smartwatch-1.png"
          alt="Smartwatch v akci - ZÃ¡loÅ¾nÃ­ obrÃ¡zek"
          className="w-full h-auto"
        />
      </video>

      {/* Overlay opzionale */}
      <div className="absolute bottom-4 left-4 bg-black/70 text-white px-3 py-2 rounded-lg text-sm">
        ğŸ“¹ Smartwatch v Akci
      </div>
    </div>
  );
};

// Main Component
export default function SmartwatchLanding() {
  const [showOrderPopup, setShowOrderPopup] = useState(false);
  const [reservationTimer, setReservationTimer] = useState({ minutes: 5, seconds: 0 });
  const [showStickyButton, setShowStickyButton] = useState(false);
  const [bounceAnimation, setBounceAnimation] = useState(false);
  const [formData, setFormData] = useState({
    jmeno: '',
    telefon: '',
    adresa: ''
  });
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [formErrors, setFormErrors] = useState({
    jmeno: '',
    telefon: '',
    adresa: ''
  });

  // Initialize tracking on component mount
  useEffect(() => {
    // AGGIUNGI QUESTA LINEA QUI
    trackingUtils.setFbClickId();
    // Initialize tracking systems
    trackingUtils.initGoogleAds();
    trackingUtils.initGoogleAnalytics();

    // Track PageView for all platforms
    trackingUtils.trackGoogleEvent('page_view', {
      page_title: 'NeniÄitelnÃ½ Smartwatch - HlavnÃ­ strÃ¡nka',
      page_location: window.location.href
    });

    // Load fingerprinting script
    const script = document.createElement('script');
    script.src = 'https://offers.supertrendaffiliateprogram.com/forms/tmfp/';
    script.crossOrigin = 'anonymous';
    script.defer = true;
    document.head.appendChild(script);

    // Scroll listener per sticky button
    const handleScroll = () => {
      const scrollY = window.scrollY;
      const windowHeight = window.innerHeight;
      const documentHeight = document.documentElement.scrollHeight;
      const scrollPercentage = (scrollY / (documentHeight - windowHeight)) * 100;

      // Mostra il pulsante sticky dopo aver scrollato il 20%
      setShowStickyButton(scrollPercentage > 15);
    };

    window.addEventListener('scroll', handleScroll);

    // Bounce animation ogni 8 secondi per il pulsante sticky
    const bounceInterval = setInterval(() => {
      if (showStickyButton) {
        setBounceAnimation(true);
        setTimeout(() => setBounceAnimation(false), 1000);
      }
    }, 8000);

    return () => {
      try {
        document.head.removeChild(script);
      } catch (e) {
        // Script might already be removed
      }
      window.removeEventListener('scroll', handleScroll);
      clearInterval(bounceInterval);
    };
  }, [showStickyButton]);

  useEffect(() => {
    let reservationInterval: NodeJS.Timeout | undefined;
    if (showOrderPopup) {
      reservationInterval = setInterval(() => {
        setReservationTimer(prev => {
          if (prev.seconds > 0) {
            return { ...prev, seconds: prev.seconds - 1 };
          } else if (prev.minutes > 0) {
            return { minutes: prev.minutes - 1, seconds: 59 };
          }
          return { minutes: 0, seconds: 0 };
        });
      }, 1000);
    }

    return () => {
      if (reservationInterval) clearInterval(reservationInterval);
    };
  }, [showOrderPopup]);

  const handleOrderClick = () => {
    console.log('ğŸ¯ Order button clicked - tracking InitiateCheckout');

    // Track InitiateCheckout event (inizio processo acquisto)
    trackingUtils.trackFacebookEvent('InitiateCheckout', {
      content_type: 'product',
      content_ids: ['smartwatch-indestructible'],
      content_name: 'NeniÄitelnÃ½ Smartwatch',
      value: 1249.00,
      currency: 'CZK',
      num_items: 1
    });

    trackingUtils.trackGoogleEvent('view_item', {
      currency: 'CZK',
      value: 1249.00,
      items: [{
        item_id: 'smartwatch-indestructible',
        item_name: 'NeniÄitelnÃ½ Smartwatch',
        category: 'Electronics',
        quantity: 1,
        price: 1249.00
      }]
    });

    setShowOrderPopup(true);
    setReservationTimer({ minutes: 5, seconds: 0 });
    setFormErrors({ jmeno: '', telefon: '', adresa: '' });
  };

  const handleFormChange = (field: string, value: string) => {
    setFormData(prev => ({ ...prev, [field]: value }));
    if (formErrors[field as keyof typeof formErrors]) {
      setFormErrors(prev => ({ ...prev, [field]: '' }));
    }
  };

  const validateForm = () => {
    const errors = { jmeno: '', telefon: '', adresa: '' };
    let isValid = true;

    if (!formData.jmeno.trim()) {
      errors.jmeno = 'JmÃ©no a pÅ™Ã­jmenÃ­ je povinnÃ©';
      isValid = false;
    } else if (formData.jmeno.trim().length < 2) {
      errors.jmeno = 'JmÃ©no musÃ­ obsahovat nejmÃ©nÄ› 2 znaky';
      isValid = false;
    }

    if (!formData.telefon.trim()) {
      errors.telefon = 'TelefonnÃ­ ÄÃ­slo je povinnÃ©';
      isValid = false;
    } else {
      const phoneRegex = /^[\+]?[0-9\s\-\(\)]{8,15}$/;
      if (!phoneRegex.test(formData.telefon.trim())) {
        errors.telefon = 'Zadejte platnÃ© telefonnÃ­ ÄÃ­slo';
        isValid = false;
      }
    }

    if (!formData.adresa.trim()) {
      errors.adresa = 'Adresa je povinnÃ¡';
      isValid = false;
    } else if (formData.adresa.trim().length < 10) {
      errors.adresa = 'Zadejte Ãºplnou adresu (ulice, mÄ›sto, PSÄŒ)';
      isValid = false;
    }

    setFormErrors(errors);
    return isValid;
  };

  const handleFormSubmit = async (e: React.FormEvent) => {
    e.preventDefault();

    if (!validateForm()) return;

    setIsSubmitting(true);

    try {
      console.log('ğŸ¯ Purchase initiated - tracking Purchase event');

      // Track Purchase event for Facebook
      await trackingUtils.trackFacebookEvent('Purchase', {
        content_type: 'product',
        content_ids: ['smartwatch-indestructible'],
        content_name: 'NeniÄitelnÃ½ Smartwatch',
        value: 1249.00,
        currency: 'CZK',
        num_items: 1
      }, formData);

      // Track for Google Ads
      trackingUtils.trackGoogleEvent('purchase', {
        transaction_id: `cz-${Date.now()}`,
        value: 1249.00,
        currency: 'CZK',
        items: [{
          item_id: 'smartwatch-indestructible',
          item_name: 'NeniÄitelnÃ½ Smartwatch',
          category: 'Electronics',
          quantity: 1,
          price: 1249.00
        }]
      });

      console.log('ğŸ“‹ Submitting order:', formData);

      // Simulate API call
      await new Promise(resolve => setTimeout(resolve, 2000));

      // Redirect to thank you page
      window.location.href = '/ty-cz-smartw';

    } catch (error) {
      console.error('âŒ Order submission error:', error);
      alert('Chyba pÅ™i odesÃ­lÃ¡nÃ­ objednÃ¡vky. Zkuste to prosÃ­m znovu.');
    } finally {
      setIsSubmitting(false);
    }
  };

  return (
    <div className="min-h-screen bg-gray-50">
      <input type="hidden" name="tmfp" />


      <div className="bg-red-600 text-white text-center py-2 px-4">
        <div className="flex items-center justify-center space-x-4 text-sm font-medium">
          <span>ğŸ”¥ OMEZENÃ NABÃDKA - Dnes pouze se slevou 60%!</span>
        </div>
      </div>

      <section className="bg-white py-8 lg:py-16">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-16 items-center">
            <div className="order-1">
              <ProductCarousel />
            </div>

            <div className="order-2 space-y-6">
              <div className="flex items-center space-x-2">
                <StarRating rating={5} size="w-5 h-5" />
                <span className="text-yellow-600 font-medium">4.8</span>
                <span className="text-gray-600">(1,247 recenzÃ­)</span>
              </div>

              <h1 className="text-3xl lg:text-4xl font-bold text-gray-900 leading-tight">
                âŒš NeniÄitelnÃ½ Smartwatch
              </h1>

              <p className="text-lg text-gray-700 font-medium">
                <strong>Hodinky, kterÃ© pÅ™eÅ¾ijÃ­ vÅ¡echno. OdolnÃ© proti vodÄ›, nÃ¡razÅ¯m a extrÃ©mnÃ­m podmÃ­nkÃ¡m. VojenskÃ½ styl pro skuteÄnÃ© bojovnÃ­ky.</strong>
              </p>

              <div className="space-y-3">
                <div className="flex items-start space-x-3">
                  <Check className="w-5 h-5 text-green-600 mt-0.5 flex-shrink-0" />
                  <span className="text-base">ğŸ“ <strong>PÅ™ijÃ­mejte hovory</strong> â€“ VestavÄ›nÃ½ reproduktor - mluvte bez telefonu</span>
                </div>
                <div className="flex items-start space-x-3">
                  <Check className="w-5 h-5 text-green-600 mt-0.5 flex-shrink-0" />
                  <span className="text-base">ğŸ›°ï¸ <strong>VojenskÃ½ GPS</strong> â€“ PÅ™esnost na Ãºrovni 3 metrÅ¯ - nikdy se neztratÃ­te</span>
                </div>
                <div className="flex items-start space-x-3">
                  <Check className="w-5 h-5 text-green-600 mt-0.5 flex-shrink-0" />
                  <span className="text-base">ğŸƒ <strong>100+ sportovnÃ­ch reÅ¾imÅ¯</strong> â€“ KaÅ¾dÃ¡ aktivita pÅ™esnÄ› monitorovÃ¡na</span>
                </div>
                <div className="flex items-start space-x-3">
                  <Check className="w-5 h-5 text-green-600 mt-0.5 flex-shrink-0" />
                  <span className="text-base">ğŸ“± <strong>VÅ¡echny chytrÃ© funkce</strong> â€“ Hovory, SMS, GPS, fitness</span>
                </div>
              </div>

              {/* NOVÃ BOX OFERTY */}
              <div style={{
                fontFamily: 'sans-serif',
                background: '#fff',
                padding: '20px',
                borderRadius: '10px',
                maxWidth: '650px',
                margin: 'auto',
                textAlign: 'left',
                boxShadow: '0 0 10px rgba(0,0,0,0.05)'
              }}>
                <h2 style={{
                  color: '#1c1917',
                  fontSize: '20px',
                  marginBottom: '15px',
                  textAlign: 'center'
                }}>
                  âŒš NeniÄitelnÃ½ Smartwatch â€“ VojenskÃ½, VodotÄ›snÃ½, NeprÅ¯stÅ™elnÃ½
                </h2>

                <div style={{
                  display: 'flex',
                  justifyContent: 'space-between',
                  alignItems: 'center',
                  padding: '10px 0',
                  borderBottom: '1px solid #eee',
                  fontSize: '16px',
                  flexWrap: 'wrap'
                }}>
                  <span style={{ flex: '1 1 70%' }}>ğŸ’§ VodotÄ›snost IP68: PlavÃ¡nÃ­, potÃ¡pÄ›nÃ­, extrÃ©mnÃ­ podmÃ­nky</span>
                  <span style={{
                    color: 'red',
                    textDecoration: 'line-through',
                    fontWeight: 'bold',
                    whiteSpace: 'nowrap'
                  }}>3 122,50 KÄ</span>
                </div>

                <div style={{
                  display: 'flex',
                  justifyContent: 'space-between',
                  alignItems: 'center',
                  padding: '10px 0',
                  borderBottom: '1px solid #eee',
                  fontSize: '16px',
                  flexWrap: 'wrap'
                }}>
                  <span style={{ flex: '1 1 70%' }}>ğŸ›¡ï¸ PancÃ­Å™ovÃ½ design: VydrÅ¾Ã­ vÅ¡echno, co na nÄ›j hodÃ­te</span>
                  <span style={{
                    color: '#16a34a',
                    fontWeight: 'bold',
                    whiteSpace: 'nowrap'
                  }}>âœ” V sadÄ›</span>
                </div>

                <div style={{
                  display: 'flex',
                  justifyContent: 'space-between',
                  alignItems: 'center',
                  padding: '10px 0',
                  borderBottom: '1px solid #eee',
                  fontSize: '16px',
                  flexWrap: 'wrap'
                }}>
                  <span style={{ flex: '1 1 70%' }}>ğŸ”‹ Baterie na 30 dnÃ­: Jedno nabitÃ­ na celÃ½ mÄ›sÃ­c</span>
                  <span style={{
                    color: '#16a34a',
                    fontWeight: 'bold',
                    whiteSpace: 'nowrap'
                  }}>âœ” V sadÄ›</span>
                </div>

                <div style={{
                  display: 'flex',
                  justifyContent: 'space-between',
                  alignItems: 'center',
                  padding: '10px 0',
                  borderBottom: '1px solid #eee',
                  fontSize: '16px',
                  flexWrap: 'wrap'
                }}>
                  <span style={{ flex: '1 1 70%' }}>ğŸ“± ChytrÃ© funkce: GPS, krokomÄ›r, pulsometr, notifikace</span>
                  <span style={{
                    color: '#16a34a',
                    fontWeight: 'bold',
                    whiteSpace: 'nowrap'
                  }}>âœ” V sadÄ›</span>
                </div>

                <div style={{
                  background: '#ecfdf5',
                  borderLeft: '4px solid #10b981',
                  padding: '10px 12px',
                  margin: '10px 0',
                  fontSize: '15px'
                }}>
                  ğŸšš <strong>DoruÄenÃ­ zdarma</strong> po celÃ© ÄŒeskÃ© republice (doruÄenÃ­ za 3-4 pracovnÃ­ dny)
                </div>

                <div style={{
                  background: '#ecfdf5',
                  borderLeft: '4px solid #10b981',
                  padding: '10px 12px',
                  margin: '10px 0',
                  fontSize: '15px'
                }}>
                  ğŸ’¶ <strong>Platba na dobÃ­rku</strong> k dispozici
                </div>

                <div style={{
                  background: '#f0fdf4',
                  padding: '15px',
                  margin: '20px 0',
                  textAlign: 'center',
                  borderRadius: '8px',
                  fontSize: '22px',
                  color: '#16a34a',
                  fontWeight: 'bold'
                }}>
                  KatalogovÃ¡ cena: <span style={{ textDecoration: 'line-through', color: 'red' }}>3 122,50 KÄ</span><br />
                  <div style={{ marginTop: '10px' }}>
                    Dnes pouze: <span style={{ fontSize: '26px' }}>1 249,00 KÄ</span>
                  </div>
                </div>

                <div style={{
                  textAlign: 'center',
                  color: '#7f1d1d',
                  fontWeight: '500',
                  background: '#fef2f2',
                  padding: '8px',
                  borderRadius: '6px',
                  marginBottom: '10px',
                  fontSize: '14px'
                }}>
                  â³ <strong>NabÃ­dka platÃ­ pouze nÄ›kolik dnÃ­!</strong><br />
                  VyuÅ¾ijte ji pÅ™edtÃ­m, neÅ¾ se vrÃ¡tÃ­ na plnou cenu.
                </div>

                <div style={{
                  textAlign: 'center',
                  fontSize: '14px',
                  color: '#dc2626',
                  fontWeight: 'bold',
                  marginTop: '8px'
                }}>
                  <CountdownTimer />
                </div>

                <div style={{
                  background: 'repeating-linear-gradient(45deg, #facc15, #facc15 10px, #fde68a 10px, #fde68a 20px)',
                  color: '#1f2937',
                  textAlign: 'center',
                  fontWeight: 'bold',
                  padding: '10px',
                  borderRadius: '8px',
                  margin: '10px 0',
                  fontSize: '15px'
                }}>
                  âš¡ PoslednÃ­ kusy k dispozici na skladÄ›
                </div>

                <p style={{ textAlign: 'center', fontSize: '14px', color: '#555' }}>
                  ğŸ“¦ OdeslÃ¡nÃ­ za 24/48h â€“ DoruÄenÃ­ garantovÃ¡no za 3-4 dny
                </p>
              </div>

              <button
                onClick={handleOrderClick}
                className="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-8 rounded-lg text-lg transition-colors duration-200 shadow-lg animate-pulse-button"
              >
                ğŸ”¥ OBJEDNAT NYNÃ - Platba na DobÃ­rku
              </button>

              <DeliveryTracking />

              {/* Recensione evidenziata */}
              <div className="mt-8 bg-white p-6 rounded-lg shadow-lg border border-gray-200">
                {/* Layout con foto centrata verticalmente rispetto al testo */}
                <div className="flex items-center space-x-4">
                  <img
                    src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                    alt="Jan K."
                    className="w-14 h-14 rounded-full object-cover flex-shrink-0"
                  />

                  <div className="flex-1">
                    {/* Stelle sopra il testo, allineate a sinistra */}
                    <div className="mb-3">
                      <StarRating rating={5} size="w-4 h-4" />
                    </div>

                    <p className="text-gray-800 text-sm leading-relaxed mb-3">
                      "Tyto hodinky jsou skuteÄnÃ½ bojovnÃ­k! ğŸ’ª Spadly mi ze 3 metrÅ¯ na beton - ani Å¡krÃ¡banec! Plavat s nimi, bÄ›hÃ¡m v deÅ¡ti, pracuji na stavbÄ›. Baterie skuteÄnÄ› vydrÅ¾Ã­ mÄ›sÃ­c. NejlepÅ¡Ã­ nÃ¡kup v Å¾ivotÄ›!"
                    </p>

                    {/* Nome con checkmark blu */}
                    <div className="flex items-center space-x-2">
                      <div className="w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center">
                        <span className="text-white text-xs font-bold">âœ“</span>
                      </div>
                      <span className="font-bold text-gray-900 text-sm">Jan K.</span>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </section>

      <section className="py-16 bg-gray-50">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
            <div>
              <h2 className="text-3xl font-bold text-gray-900 mb-6">
                âš”ï¸ VytvoÅ™eno pro ExtrÃ©mnÃ­ VÃ½zvy â€“ VÃ¡Å¡ NeniÄitelnÃ½ SpoleÄnÃ­k!
              </h2>
              <p className="text-lg text-gray-700 mb-6">
                <strong>NeniÄitelnÃ½ Smartwatch</strong> byl navrÅ¾en pro lidi, kteÅ™Ã­ neznajÃ­ kompromisy. AÅ¥ uÅ¾ jste vojÃ¡k, hasiÄ, dÄ›lnÃ­k nebo extrÃ©mnÃ­ sportovec.
              </p>
              <p className="text-lg text-gray-700">
                S <strong>certifikÃ¡tem IP68</strong>, <strong>pancÃ­Å™ovÃ½m krytem</strong> a <strong>bateriÃ­ na 30 dnÃ­</strong>, tyto hodinky pÅ™eÅ¾ijÃ­ kaÅ¾dou misi, kterou pÅ™ed nimi postavÃ­te.
              </p>
            </div>
            <div>
              <AutoplayVideo />
            </div>
          </div>
        </div>
      </section>

      <section className="py-16 bg-white">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
            <div className="order-2 lg:order-1">
              <img
                src="/images/smartw-cz/smartwatch-2.jpg"
                alt="Vlastnosti smartwatch"
                className="w-full h-auto rounded-lg shadow-lg"
              />
            </div>
            <div className="order-1 lg:order-2">
              <h2 className="text-3xl font-bold text-gray-900 mb-6">
                HlavnÃ­ vlastnosti
              </h2>
              <div className="space-y-4">
                <div className="flex items-start space-x-3">
                  <Check className="w-6 h-6 text-green-600 mt-0.5 flex-shrink-0" />
                  <div className="text-lg">
                    <strong>VodotÄ›snost IP68:</strong> ÃšplnÃ¡ ochrana pÅ™ed vodou do hloubky 50 metrÅ¯. IdeÃ¡lnÃ­ na plavÃ¡nÃ­, potÃ¡pÄ›nÃ­ a vodnÃ­ sporty.
                  </div>
                </div>
                <div className="flex items-start space-x-3">
                  <Check className="w-6 h-6 text-green-600 mt-0.5 flex-shrink-0" />
                  <div className="text-lg">
                    <strong>PancÃ­Å™ovÃ½ design:</strong> OdolnÃ½ kryt z leteckÃ©ho hlinÃ­ku a gorilla glass sklo. VydrÅ¾Ã­ pÃ¡dy z 5 metrÅ¯.
                  </div>
                </div>
                <div className="flex items-start space-x-3">
                  <Check className="w-6 h-6 text-green-600 mt-0.5 flex-shrink-0" />
                  <div className="text-lg">
                    <strong>Baterie na 30 dnÃ­:</strong> MocnÃ¡ baterie 2000mAh zajiÅ¡Å¥uje mÄ›sÃ­c pouÅ¾Ã­vÃ¡nÃ­ na jedno nabitÃ­.
                  </div>
                </div>
                <div className="flex items-start space-x-3">
                  <Check className="w-6 h-6 text-green-600 mt-0.5 flex-shrink-0" />
                  <div className="text-lg">
                    <strong>PlnÃ© chytrÃ© funkce:</strong> GPS, pulsometr, krokomÄ›r, notifikace, hovory, 100+ sportovnÃ­ch reÅ¾imÅ¯.
                  </div>
                </div>
                <div className="flex items-start space-x-3">
                  <Check className="w-6 h-6 text-green-600 mt-0.5 flex-shrink-0" />
                  <div className="text-lg">
                    <strong>ExtrÃ©mnÃ­ dosah:</strong> Funguje v teplotÃ¡ch od -40Â°C do +70Â°C. OdolnÃ© proti prachu, pÃ­sku a snÄ›hu.
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section className="py-16 bg-gray-50">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="text-center mb-12">
            <h2 className="text-3xl font-bold text-gray-900 mb-4">
              NeniÄitelnÃ½ a FunkÄnÃ­
            </h2>
            <p className="text-lg text-gray-700">
              Objevte, jak tyto smartwatch kombinujÃ­ vojenskou odolnost s modernÃ­mi chytrÃ½mi funkcemi.
            </p>
          </div>

          <div className="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
            <div>
              <img
                src="/images/smartw-cz/smartwatch-3.jpg"
                alt="Smartwatch v akci"
                className="w-full h-auto rounded-lg shadow-lg"
              />
            </div>
            <div>
              <div className="grid grid-cols-1 sm:grid-cols-2 gap-6">
                <div className="text-center p-6 bg-white rounded-lg shadow-md">
                  <div className="text-4xl mb-4">ğŸ›¡ï¸</div>
                  <h3 className="font-bold text-lg mb-2">Odolnost</h3>
                  <p className="text-gray-600">PancÃ­Å™ovÃ½ design vydrÅ¾Ã­ kaÅ¾dou vÃ½zvu.</p>
                </div>
                <div className="text-center p-6 bg-white rounded-lg shadow-md">
                  <div className="text-4xl mb-4">ğŸ’§</div>
                  <h3 className="font-bold text-lg mb-2">VodotÄ›snost</h3>
                  <p className="text-gray-600">IP68 - plavÃ¡nÃ­, potÃ¡pÄ›nÃ­, dÃ©Å¡Å¥.</p>
                </div>
                <div className="text-center p-6 bg-white rounded-lg shadow-md">
                  <div className="text-4xl mb-4">ğŸ”‹</div>
                  <h3 className="font-bold text-lg mb-2">DlouhÃ¡ Baterie</h3>
                  <p className="text-gray-600">30 dnÃ­ provozu na jedno nabitÃ­.</p>
                </div>
                <div className="text-center p-6 bg-white rounded-lg shadow-md">
                  <div className="text-4xl mb-4">ğŸ“±</div>
                  <h3 className="font-bold text-lg mb-2">ChytrÃ© Funkce</h3>
                  <p className="text-gray-600">GPS, fitness, notifikace, hovory.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section className="py-16 bg-white">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="text-center mb-12">
            <h2 className="text-3xl font-bold text-gray-900 mb-4">
              Co ÄŒinÃ­ NeniÄitelnÃ½ Smartwatch VÃ½jimeÄnÃ½m
            </h2>
            <p className="text-lg text-gray-700">
              Na rozdÃ­l od bÄ›Å¾nÃ½ch smartwatch nÃ¡Å¡ model kombinuje vojenskou odolnost s modernÃ­mi funkcemi, zajiÅ¡Å¥uje spolehlivost za vÅ¡ech podmÃ­nek.
            </p>
          </div>

          <div className="bg-gray-50 rounded-lg p-4 sm:p-8 overflow-x-auto">
            <div className="min-w-full">
              <div className="hidden md:grid md:grid-cols-3 gap-4 text-center mb-4">
                <div></div>
                <div className="font-bold text-lg text-gray-900">BÄ›Å¾nÃ© Smartwatch</div>
                <div className="font-bold text-lg text-green-600">NeniÄitelnÃ½ Smartwatch</div>
              </div>

              <div className="space-y-4">
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-white rounded-lg">
                  <div className="font-medium text-gray-900">Odolnost proti vodÄ›</div>
                  <div className="text-center text-red-600">âŒ ZÃ¡kladnÃ­ (sprÅ¡ka)</div>
                  <div className="text-center text-green-600">âœ… IP68 (50m hloubka)</div>
                </div>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-white rounded-lg">
                  <div className="font-medium text-gray-900">Odolnost proti nÃ¡razÅ¯m</div>
                  <div className="text-center text-red-600">âŒ KÅ™ehkÃ©</div>
                  <div className="text-center text-green-600">âœ… VojenskÃ½ standard</div>
                </div>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-white rounded-lg">
                  <div className="font-medium text-gray-900">VÃ½drÅ¾ baterie</div>
                  <div className="text-center text-red-600">âŒ 1-2 dny</div>
                  <div className="text-center text-green-600">âœ… 30 dnÃ­</div>
                </div>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-white rounded-lg">
                  <div className="font-medium text-gray-900">OperaÄnÃ­ teplota</div>
                  <div className="text-center text-red-600">âŒ 0Â°C aÅ¾ 40Â°C</div>
                  <div className="text-center text-green-600">âœ… -40Â°C aÅ¾ +70Â°C</div>
                </div>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-white rounded-lg">
                  <div className="font-medium text-gray-900">Cena</div>
                  <div className="text-center text-red-600">3000+ KÄ</div>
                  <div className="text-center text-green-600 font-bold">1249 KÄ</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Customer Reviews Section */}
      <section className="py-16 bg-gray-50">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="text-center mb-12">
            <h2 className="text-3xl font-bold text-gray-900 mb-4">
              VÃ­ce neÅ¾ 1,247 SpokojenÃ½ch ZÃ¡kaznÃ­kÅ¯
            </h2>
            <p className="text-lg text-gray-700">
              ZjistÄ›te, proÄ ÄeÅ¡tÃ­ zÃ¡kaznÃ­ci milujÃ­ NeniÄitelnÃ½ Smartwatch
            </p>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {/* Review 1 */}
            <div className="bg-white p-6 rounded-lg shadow-lg border border-gray-200">
              <div className="flex items-center space-x-4 mb-4">
                <img
                  src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                  alt="Petr M."
                  className="w-12 h-12 rounded-full object-cover"
                />
                <div>
                  <div className="flex items-center space-x-2 mb-1">
                    <div className="w-3 h-3 bg-blue-500 rounded-full flex items-center justify-center">
                      <span className="text-white text-xs font-bold">âœ“</span>
                    </div>
                    <span className="font-bold text-gray-900 text-sm">Petr M.</span>
                  </div>
                  <p className="text-xs text-gray-600">Praha</p>
                </div>
              </div>
              <div className="mb-3">
                <StarRating rating={5} size="w-4 h-4" />
              </div>
              <p className="text-gray-800 text-sm leading-relaxed">
                "KoneÄnÄ› hodinky, kterÃ© vydrÅ¾Ã­! Jsem hasiÄ a potÅ™eboval jsem nÄ›co opravdu odolnÃ©ho. Po 6 mÄ›sÃ­cÃ­ch intenzivnÃ­ho pouÅ¾Ã­vÃ¡nÃ­ stÃ¡le vypadajÃ­ jako novÃ©. NejlepÅ¡Ã­ investice!"
              </p>
            </div>

            {/* Review 2 */}
            <div className="bg-white p-6 rounded-lg shadow-lg border border-gray-200">
              <div className="flex items-center space-x-4 mb-4">
                <img
                  src="https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                  alt="Anna K."
                  className="w-12 h-12 rounded-full object-cover"
                />
                <div>
                  <div className="flex items-center space-x-2 mb-1">
                    <div className="w-3 h-3 bg-blue-500 rounded-full flex items-center justify-center">
                      <span className="text-white text-xs font-bold">âœ“</span>
                    </div>
                    <span className="font-bold text-gray-900 text-sm">Anna K.</span>
                  </div>
                  <p className="text-xs text-gray-600">Brno</p>
                </div>
              </div>
              <div className="mb-3">
                <StarRating rating={5} size="w-4 h-4" />
              </div>
              <p className="text-gray-800 text-sm leading-relaxed">
                "ÃšÅ¾asnÃ¡ vÃ½drÅ¾ baterie! NabÃ­jÃ­m je jen jednou za mÄ›sÃ­c. GPS funguje dokonale pÅ™i bÄ›hÃ¡nÃ­ v horÃ¡ch. Design je krÃ¡snÃ½ a funkce jsou ÃºplnÃ©. DoporuÄuji!"
              </p>
            </div>

            {/* Review 3 */}
            <div className="bg-white p-6 rounded-lg shadow-lg border border-gray-200">
              <div className="flex items-center space-x-4 mb-4">
                <img
                  src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                  alt="Martin S."
                  className="w-12 h-12 rounded-full object-cover"
                />
                <div>
                  <div className="flex items-center space-x-2 mb-1">
                    <div className="w-3 h-3 bg-blue-500 rounded-full flex items-center justify-center">
                      <span className="text-white text-xs font-bold">âœ“</span>
                    </div>
                    <span className="font-bold text-gray-900 text-sm">Martin S.</span>
                  </div>
                  <p className="text-xs text-gray-600">Ostrava</p>
                </div>
              </div>
              <div className="mb-3">
                <StarRating rating={5} size="w-4 h-4" />
              </div>
              <p className="text-gray-800 text-sm leading-relaxed">
                "Pracuji na stavbÄ› a potÅ™eboval jsem odolnÃ© hodinky. Spadly mi ze 4. patra, ani Å¡krÃ¡banec! VodÄ›odolnost je takÃ© fantastickÃ¡. Worth kaÅ¾dou korunu!"
              </p>
            </div>

            {/* Review 4 */}
            <div className="bg-white p-6 rounded-lg shadow-lg border border-gray-200">
              <div className="flex items-center space-x-4 mb-4">
                <img
                  src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                  alt="Marie H."
                  className="w-12 h-12 rounded-full object-cover"
                />
                <div>
                  <div className="flex items-center space-x-2 mb-1">
                    <div className="w-3 h-3 bg-blue-500 rounded-full flex items-center justify-center">
                      <span className="text-white text-xs font-bold">âœ“</span>
                    </div>
                    <span className="font-bold text-gray-900 text-sm">Marie H.</span>
                  </div>
                  <p className="text-xs text-gray-600">PlzeÅˆ</p>
                </div>
              </div>
              <div className="mb-3">
                <StarRating rating={5} size="w-4 h-4" />
              </div>
              <p className="text-gray-800 text-sm leading-relaxed">
                "Miluji sportovnÃ­ funkce! 100+ reÅ¾imÅ¯ je ÃºÅ¾asnÃ©. Sleduje perfektnÄ› kaÅ¾dÃ© cviÄenÃ­. Design je elegantnÃ­, ale zÃ¡roveÅˆ robustnÃ­. DoporuÄujem vÅ¡em sportovcÅ¯m!"
              </p>
            </div>

            {/* Review 5 */}
            <div className="bg-white p-6 rounded-lg shadow-lg border border-gray-200">
              <div className="flex items-center space-x-4 mb-4">
                <img
                  src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                  alt="Pavel T."
                  className="w-12 h-12 rounded-full object-cover"
                />
                <div>
                  <div className="flex items-center space-x-2 mb-1">
                    <div className="w-3 h-3 bg-blue-500 rounded-full flex items-center justify-center">
                      <span className="text-white text-xs font-bold">âœ“</span>
                    </div>
                    <span className="font-bold text-gray-900 text-sm">Pavel T.</span>
                  </div>
                  <p className="text-xs text-gray-600">ÄŒeskÃ© BudÄ›jovice</p>
                </div>
              </div>
              <div className="mb-3">
                <StarRating rating={5} size="w-4 h-4" />
              </div>
              <p className="text-gray-800 text-sm leading-relaxed">
                "Jsem vojenskÃ½ dÅ¯stojnÃ­k a potÅ™eboval jsem nÄ›co odolnÃ©ho. Tyto hodinky pÅ™ekonaly vÅ¡echna oÄekÃ¡vÃ¡nÃ­. GPS pÅ™esnost je neuvÄ›Å™itelnÃ¡. VojenskÃ½ standard skuteÄnÄ›!"
              </p>
            </div>

            {/* Review 6 */}
            <div className="bg-white p-6 rounded-lg shadow-lg border border-gray-200">
              <div className="flex items-center space-x-4 mb-4">
                <img
                  src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                  alt="Zuzana L."
                  className="w-12 h-12 rounded-full object-cover"
                />
                <div>
                  <div className="flex items-center space-x-2 mb-1">
                    <div className="w-3 h-3 bg-blue-500 rounded-full flex items-center justify-center">
                      <span className="text-white text-xs font-bold">âœ“</span>
                    </div>
                    <span className="font-bold text-gray-900 text-sm">Zuzana L.</span>
                  </div>
                  <p className="text-xs text-gray-600">Hradec KrÃ¡lovÃ©</p>
                </div>
              </div>
              <div className="mb-3">
                <StarRating rating={5} size="w-4 h-4" />
              </div>
              <p className="text-gray-800 text-sm leading-relaxed">
                "FantastickÃ© hodinky! PomÄ›r cena/vÃ½kon je neuvÄ›Å™itelnÃ½. Za 1249 KÄ dostanete funkce hodinek za 5000+ KÄ. DoruÄenÃ­ bylo rychlÃ©, doporuÄuji!"
              </p>
            </div>
          </div>
        </div>
      </section>

      {/* FAQ Section */}
      <section className="py-16 bg-white">
        <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="text-center mb-12">
            <h2 className="text-3xl font-bold text-gray-900 mb-4">
              ÄŒasto KladenÃ© OtÃ¡zky
            </h2>
            <p className="text-lg text-gray-700">
              OdpovÄ›di na nejÄastÄ›jÅ¡Ã­ otÃ¡zky o NeniÄitelnÃ©m Smartwatch
            </p>
          </div>

          <div className="space-y-4">
            <FAQ
              question="Je NeniÄitelnÃ½ Smartwatch skuteÄnÄ› odolnÃ½ proti vodÄ›?"
              answer="Ano! MÃ¡ certifikaci IP68, coÅ¾ znamenÃ¡ Ãºplnou ochranu pÅ™ed vodou aÅ¾ do hloubky 50 metrÅ¯. MÅ¯Å¾ete s nÃ­m plavat, potÃ¡pÄ›t se nebo pracovat za deÅ¡tÄ› bez obav."
            />
            <FAQ
              question="Jak dlouho vydrÅ¾Ã­ baterie?"
              answer="NaÅ¡e mocnÃ¡ baterie 2000mAh vydrÅ¾Ã­ aÅ¾ 30 dnÃ­ pÅ™i normÃ¡lnÃ­m pouÅ¾Ã­vÃ¡nÃ­. V ÃºspornÃ©m reÅ¾imu mÅ¯Å¾e vydrÅ¾et jeÅ¡tÄ› dÃ©le. To je 15x dÃ©le neÅ¾ bÄ›Å¾nÃ© smartwatch!"
            />
            <FAQ
              question="Jsou hodinky kompatibilnÃ­ s mÃ½m telefonem?"
              answer="Ano! NeniÄitelnÃ½ Smartwatch je kompatibilnÃ­ s telefony Android i iPhone. JednoduÅ¡e se pÅ™ipojuje pÅ™es Bluetooth a funguje s naÅ¡Ã­ bezplatnou aplikacÃ­."
            />
            <FAQ
              question="JakÃ¡ je zÃ¡ruka na hodinky?"
              answer="Poskytujeme 24mÄ›sÃ­ÄnÃ­ zÃ¡ruku na vÅ¡echny naÅ¡e smartwatch. Pokud mÃ¡te jakÃ½koli problÃ©m, nÃ¡Å¡ zÃ¡kaznickÃ½ servis vÃ¡m pomÅ¯Å¾e do 24 hodin."
            />
            <FAQ
              question="Jak rychlÃ© je doruÄenÃ­?"
              answer="OdesÃ­lÃ¡me bÄ›hem 24-48 hodin po objednÃ¡vce. DoruÄenÃ­ po celÃ© ÄŒeskÃ© republice trvÃ¡ 3-4 pracovnÃ­ dny. DoruÄenÃ­ je zcela zdarma!"
            />
            <FAQ
              question="MÅ¯Å¾u platit pÅ™i pÅ™evzetÃ­?"
              answer="Ano! NabÃ­zÃ­me platbu na dobÃ­rku (platba pÅ™i doruÄenÃ­). MÅ¯Å¾ete takÃ© platit kartou online nebo bankovnÃ­m pÅ™evodem."
            />
            <FAQ
              question="JakÃ© sportovnÃ­ reÅ¾imy jsou k dispozici?"
              answer="MÃ¡me vÃ­ce neÅ¾ 100 sportovnÃ­ch reÅ¾imÅ¯ vÄetnÄ› bÄ›hÃ¡nÃ­, cyklistiky, plavÃ¡nÃ­, turistiky, posilovÃ¡nÃ­, jÃ³gy a mnoha dalÅ¡Ã­ch. VÅ¡echny vaÅ¡e aktivity budou pÅ™esnÄ› sledovÃ¡ny."
            />
          </div>
        </div>
      </section>

      {/* Trust Badges Section */}
      <section className="py-12 bg-gray-50">
        <div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="grid grid-cols-2 md:grid-cols-4 gap-8 items-center">
            <div className="text-center">
              <div className="text-4xl mb-2">ğŸšš</div>
              <h3 className="font-bold text-sm text-gray-900">DoruÄenÃ­ Zdarma</h3>
              <p className="text-xs text-gray-600">Po celÃ© ÄŒR</p>
            </div>
            <div className="text-center">
              <div className="text-4xl mb-2">ğŸ”’</div>
              <h3 className="font-bold text-sm text-gray-900">BezpeÄnÃ¡ Platba</h3>
              <p className="text-xs text-gray-600">SSL Å¡ifrovÃ¡nÃ­</p>
            </div>
            <div className="text-center">
              <div className="text-4xl mb-2">â†©ï¸</div>
              <h3 className="font-bold text-sm text-gray-900">14 DnÃ­ na VrÃ¡cenÃ­</h3>
              <p className="text-xs text-gray-600">Bez ptanÃ­</p>
            </div>
            <div className="text-center">
              <div className="text-4xl mb-2">ğŸ›¡ï¸</div>
              <h3 className="font-bold text-sm text-gray-900">2 Roky ZÃ¡ruka</h3>
              <p className="text-xs text-gray-600">PlnÃ¡ ochrana</p>
            </div>
          </div>
        </div>
      </section>

      {/* Stock Counter */}
      <section className="py-8 bg-white">
        <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
          <StockIndicator />
        </div>
      </section>

      {/* Final CTA Section */}
      <section className="py-16 bg-gradient-to-r from-green-600 to-green-700 text-white">
        <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
          <h2 className="text-3xl font-bold mb-4">
            ZÃ­skejte SvÅ¯j NeniÄitelnÃ½ Smartwatch Dnes!
          </h2>
          <p className="text-xl mb-8">
            Pouze <span className="text-yellow-300 font-bold">1 249 KÄ</span> mÃ­sto 3 122,50 KÄ - Ãšspora 60%!
          </p>
          <button
            onClick={handleOrderClick}
            className="bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-4 px-8 rounded-lg text-xl transition-colors duration-200 shadow-lg"
          >
            ğŸ”¥ OBJEDNAT NYNÃ SE SLEVOU 60%
          </button>
          <p className="text-sm mt-4 opacity-90">
            â° OmezenÃ¡ nabÃ­dka - Pouze nÄ›kolik dnÃ­! ğŸ“¦ DoruÄenÃ­ zdarma po celÃ© ÄŒR
          </p>
        </div>
      </section>

      {/* Sticky Bottom Button */}
      {showStickyButton && (
        <div className="fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 p-4 shadow-lg">
          <div className="max-w-md mx-auto">
            <button
              onClick={handleOrderClick}
              className={`w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg text-lg transition-all duration-200 shadow-lg ${bounceAnimation ? 'animate-bounce' : ''
                }`}
            >
              ğŸ”¥ OBJEDNAT ZA 1 249 KÄ
            </button>
          </div>
        </div>
      )}

      {/* Order Popup */}
      {showOrderPopup && (
        <div className="fixed inset-0 z-50 overflow-y-auto">
          <div className="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
            <div className="fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75" onClick={() => setShowOrderPopup(false)}></div>

            <div className="inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6">
              <div className="text-center">
                <h3 className="text-2xl font-bold text-gray-900 mb-4">
                  ğŸ‰ Gratulujeme k VÃ½bÄ›ru!
                </h3>
                <p className="text-lg text-gray-600 mb-6">
                  Rezervovali jste si <strong>NeniÄitelnÃ½ Smartwatch</strong> za speciÃ¡lnÃ­ cenu <span className="text-green-600 font-bold">1 249 KÄ</span>
                </p>

                {/* Reservation Timer */}
                <div className="bg-red-50 border border-red-200 rounded-lg p-4 mb-6">
                  <p className="text-red-800 font-medium mb-2">
                    â° VaÅ¡e rezervace vyprÅ¡Ã­ za:
                  </p>
                  <div className="text-3xl font-bold text-red-600">
                    {String(reservationTimer.minutes).padStart(2, '0')}:
                    {String(reservationTimer.seconds).padStart(2, '0')}
                  </div>
                </div>

                {/* Order Form */}
                <form onSubmit={handleFormSubmit} className="space-y-4">
                  <div>
                    <label className="block text-sm font-medium text-gray-700 text-left mb-2">
                      JmÃ©no a pÅ™Ã­jmenÃ­ *
                    </label>
                    <input
                      type="text"
                      value={formData.jmeno}
                      onChange={(e) => handleFormChange('jmeno', e.target.value)}
                      className={`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${formErrors.jmeno ? 'border-red-500' : 'border-gray-300'
                        }`}
                      placeholder="Jan NovÃ¡k"
                      disabled={isSubmitting}
                    />
                    {formErrors.jmeno && (
                      <p className="text-red-600 text-xs mt-1 text-left">{formErrors.jmeno}</p>
                    )}
                  </div>

                  <div>
                    <label className="block text-sm font-medium text-gray-700 text-left mb-2">
                      TelefonnÃ­ ÄÃ­slo *
                    </label>
                    <input
                      type="tel"
                      value={formData.telefon}
                      onChange={(e) => handleFormChange('telefon', e.target.value)}
                      className={`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${formErrors.telefon ? 'border-red-500' : 'border-gray-300'
                        }`}
                      placeholder="+420 123 456 789"
                      disabled={isSubmitting}
                    />
                    {formErrors.telefon && (
                      <p className="text-red-600 text-xs mt-1 text-left">{formErrors.telefon}</p>
                    )}
                  </div>

                  <div>
                    <label className="block text-sm font-medium text-gray-700 text-left mb-2">
                      Adresa pro doruÄenÃ­ *
                    </label>
                    <textarea
                      value={formData.adresa}
                      onChange={(e) => handleFormChange('adresa', e.target.value)}
                      rows={3}
                      className={`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${formErrors.adresa ? 'border-red-500' : 'border-gray-300'
                        }`}
                      placeholder="Ulice 123, Praha 1, 110 00"
                      disabled={isSubmitting}
                    />
                    {formErrors.adresa && (
                      <p className="text-red-600 text-xs mt-1 text-left">{formErrors.adresa}</p>
                    )}
                  </div>

                  <div className="bg-green-50 border border-green-200 rounded-lg p-4 text-left">
                    <h4 className="font-bold text-green-900 mb-2">ğŸ“¦ ShrnutÃ­ objednÃ¡vky:</h4>
                    <div className="space-y-1 text-sm text-green-800">
                      <p>â€¢ NeniÄitelnÃ½ Smartwatch</p>
                      <p>â€¢ DoruÄenÃ­ zdarma (3-4 dny)</p>
                      <p>â€¢ 2 roky zÃ¡ruky</p>
                      <p>â€¢ Platba na dobÃ­rku</p>
                      <div className="border-t border-green-200 pt-2 mt-2">
                        <p className="font-bold text-lg">Celkem: 1 249 KÄ</p>
                      </div>
                    </div>
                  </div>

                  <div className="flex space-x-3">
                    <button
                      type="button"
                      onClick={() => setShowOrderPopup(false)}
                      className="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-3 px-4 rounded-lg transition-colors duration-200"
                      disabled={isSubmitting}
                    >
                      ZruÅ¡it
                    </button>
                    <button
                      type="submit"
                      className="flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-200 disabled:opacity-50"
                      disabled={isSubmitting}
                    >
                      {isSubmitting ? 'â³ OdesÃ­lÃ¡nÃ­...' : 'âœ… DokonÄit ObjednÃ¡vku'}
                    </button>
                  </div>
                </form>

                <p className="text-xs text-gray-500 mt-4">
                  OdeslÃ¡nÃ­m objednÃ¡vky souhlasÃ­te s naÅ¡imi obchodnÃ­mi podmÃ­nkami a zpracovÃ¡nÃ­m osobnÃ­ch ÃºdajÅ¯.
                </p>
              </div>
            </div>
          </div>
        </div>
      )}


      {/* Custom CSS for animations */}
      <style jsx>{`
        @keyframes slideUp {
          from {
            transform: translateY(100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
        
        .animate-slide-up {
          animation: slideUp 0.5s ease-out;
        }
        
        @keyframes pulseButton {
          0%, 100% {
            transform: scale(1);
          }
          50% {
            transform: scale(1.02);
          }
        }
        
        .animate-pulse-button {
          animation: pulseButton 2s ease-in-out infinite;
        }
      `}</style>
    </div>
  );
}